<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Organizador - Venue</title>
    <link rel="icon" type="image/png" href="/img/logo.png">
    <link rel="stylesheet" href="/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="/" class="navbar-brand"><img src="/img/logo.png" alt="Venue" class="navbar-logo"> Venue</a>
            <button class="navbar-toggle" id="navbarToggle" aria-label="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
            <ul class="navbar-menu" id="navbarMenu">
                <li><a href="/">Eventos</a></li>
                <li><a href="/organizer-dashboard.html">Panel</a></li>
                <li><a href="/create-event.html">Crear Evento</a></li>
                <li><a href="#" id="logoutLink">Cerrar Sesi√≥n</a></li>
            </ul>
        </div>
    </nav>

    <!-- Dashboard Header -->
    <section class="container mt-4">
        <div class="flex-between">
            <div>
                <h1>Panel de Organizador</h1>
                <p style="color: var(--gray);">Gestiona tus eventos y ve las anal√≠ticas</p>
            </div>
            <div>
                <a href="/checkin.html" class="btn btn-primary">
                    üì∑ Escanear Boletos
                </a>
            </div>
        </div>
    </section>

    <!-- Statistics Cards -->
    <section class="container mt-3">
        <div class="grid grid-3">
            <!-- Total Revenue -->
            <div class="card">
                <div class="card-body">
                    <div class="flex-between">
                        <div>
                            <p class="text-sm" style="color: var(--gray);">Ingresos Totales</p>
                            <h2 id="totalRevenue" style="color: var(--warning); margin: 0.5rem 0;">$0</h2>
                        </div>
                        <div style="font-size: 2rem;">üí∞</div>
                    </div>
                </div>
            </div>

            <!-- Tickets Sold -->
            <div class="card">
                <div class="card-body">
                    <div class="flex-between">
                        <div>
                            <p class="text-sm" style="color: var(--gray);">Boletos Vendidos</p>
                            <h2 id="totalTicketsSold" style="color: var(--success); margin: 0.5rem 0;">0</h2>
                        </div>
                        <div style="font-size: 2rem;">üéüÔ∏è</div>
                    </div>
                </div>
            </div>

            <!-- Events Count -->
            <div class="card">
                <div class="card-body">
                    <div class="flex-between">
                        <div>
                            <p class="text-sm" style="color: var(--gray);">Eventos Activos</p>
                            <h2 id="upcomingEvents" style="color: var(--info); margin: 0.5rem 0;">0</h2>
                        </div>
                        <div style="font-size: 2rem;">üìÖ</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Charts and Recent Activity -->
    <section class="container mt-4">
        <div class="grid grid-2">
            <!-- Sales Chart -->
            <div class="card">
                <div class="card-body">
                    <h3>Resumen de Ventas</h3>
                    <canvas id="salesChart" style="max-height: 300px;"></canvas>
                </div>
            </div>

            <!-- Recent Purchases -->
            <div class="card">
                <div class="card-body">
                    <h3>Compras Recientes</h3>
                    <div id="recentPurchasesList" style="max-height: 300px; overflow-y: auto;">
                        <p class="text-center" style="padding: 2rem; color: var(--gray);">Cargando...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Events Table -->
    <section class="container mt-4 mb-4">
        <div class="card">
            <div class="card-body">
                <div class="flex-between mb-3">
                    <h3>Mis Eventos</h3>
                    <a href="/create-event.html" class="btn btn-primary">+ Crear Evento</a>
                </div>
                <div id="eventsTable">
                    <!-- Events will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Event Details Modal -->
    <div class="modal" id="eventModal">
        <div class="modal-content" style="max-width: 800px;">
            <button class="modal-close" onclick="closeEventModal()">√ó</button>
            <div id="eventModalContent">
                <!-- Event details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="spinner"></div>
    </div>

    <script src="/js/main.js"></script>
    <script src="/js/dashboard.js"></script>
</body>

</html>